
{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="{% static 'css/quiz-new.css' %}">
    <link rel="stylesheet" href="{% static 'css/navbar.css' %}">
    <link rel="stylesheet" href="{% static 'css/blink.css' %}">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="{% static 'css/quiz_background.css' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body>
    
    <br>
    <div class="navbar2">
        <span class="recording">Recording...</span>
            <h4  style="color:lightyellow; margin-top: 2%;margin-right:2%">MCQ | {{field.field_name}} | {{ name }}</h4>
            <video id="video" width="640" height="480" autoplay style="width: 15%;height: 100%;border: solid 8px; border-color:lightyellow;margin-left:80%; margin-right:2%;"></video>
            <br>
            <span  class="time" style="margin-right:5%;" id="demo"> </span>
            <br>

            </div>

    
    <div class="wrapper bg-white rounded">
  
        <div class="content my-4"> 
            
            <!-- <h1 style="text-align: center;"></h1> -->
            <form onsubmit="return saveAns()"  action="/student/calculate-marks" method="POST">
            {% csrf_token %}
            {% for q in questions %}
            <p class="text-justify h5 pb-2 font-weight-bold" style="position: absolute; ">
            {{ forloop.counter }}. {{q.question}} </p>  <h6 style="text-align: right; color: blue;">[Marks {{q.marks}}]</h6>
            <div class="options py-3"> 
                <label class="rounded p-2 option"> {{q.option1}} <input type="radio" name="{{ forloop.counter }}" id="{{q.option1}} " value="Option1"> <span class="checkmark"></span> </label>  
                <label class="rounded p-2 option"> {{q.option2}} <input type="radio" name="{{ forloop.counter }}" id="{{q.option2}}" value="Option2"> <span class="checkmark"></span> </label> 
                <label class="rounded p-2 option"> {{q.option3}} <input type="radio" name="{{ forloop.counter }}" id="{{q.option3}}" value="Option3"> <span class="checkmark"></span> </label> 
                <label class="rounded p-2 option"> {{q.option4}} <input type="radio" name="{{ forloop.counter }}" id="{{q.option4}}" value="Option4"> <span class="checkmark"></span> </label> 
            </div> 
            {% endfor %}
            <input type="submit" id="submit" value="Submit Exam!" class="mx-sm-0 mx-1">
          </form>
        </div> 

    </div>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script> 
    function saveAns(){  

        var ele = document.getElementsByTagName('input'); 
        for(i = 0; i < ele.length; i++) { 
            if(ele[i].type=="radio") { 
                if(ele[i].checked){        
                  setCookie(ele[i].name,ele[i].value,3)
                }
            } 
        } 
          
    }
    
    function setCookie(cname, cvalue, exdays) {
  var d = new Date();
  d.setTime(d.getTime() + (exdays*24*60*60*1000));
  var expires = "expires="+ d.toUTCString();
  document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
}

</script> 

<script>

// Set the date we're counting down to
var countDownDate = new Date("{{ time }}").getTime()+ {{ duration }};

// Update the count down every 1 second
var x = setInterval(function() {

  // Get today's date and time
  var now = new Date().getTime();

  // Find the distance between now and the count down date
  var distance = countDownDate - now;

  // Time calculations for days, hours, minutes and seconds
  var days = Math.floor(distance / (1000 * 60 * 60 * 24));
  var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
  var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
  var seconds = Math.floor((distance % (1000 * 60)) / 1000);

  // Display the result in the element with id="demo"
  document.getElementById("demo").innerHTML =minutes + "m " + seconds + "s ";

  // If the count down is finished, write some text
  if (distance < 0) {
    clearInterval(x);
    document.getElementById("submit").click()
  }
}, 1000);
</script>
<script src="{% static 'js/camera.js' %}"></script>
<script src="{% static 'js/cutcopy.js' %}"></script>
</body>
</html>


